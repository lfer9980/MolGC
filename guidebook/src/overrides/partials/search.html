<!-- Search dialog container -->
<div class="md-search" data-md-component="search" role="dialog">

  <!-- Semi-transparent overlay to close search when clicked -->
  <label class="md-search__overlay" for="__search"></label>

  <!-- Inner search wrapper -->
  <div class="md-search__inner" role="search">

    <!-- Search form -->
    <form class="md-search__form" name="search">

      <!-- Search input field -->
      <input id="md-search-input"
             type="text"
             class="md-search__input"
             name="query"
             aria-label="{{ lang.t('search.placeholder') }}"
             placeholder="Search"
             autocapitalize="off"
             autocorrect="off"
             autocomplete="off"
             spellcheck="false"
             data-md-component="search-query"
             required>

      <!-- Search + back icon (toggles / closes search on mobile) -->
      <label class="md-search__icon md-icon" for="__search">
        {% set icon = config.theme.icon.search or "material/magnify" %}
        {% include ".icons/" ~ icon ~ ".svg" %}
        {% set icon = config.theme.icon.previous or "material/arrow-left" %}
        {% include ".icons/" ~ icon ~ ".svg" %}
      </label>

      <!-- Options toolbar inside search -->
      <nav class="md-search__options" aria-label="{{ lang.t('search') }}">

        <!-- Optional: Share search link (if enabled in features) -->
        {% if "search.share" in features %}
          <a href="javascript:void(0)"
             class="md-search__icon md-icon"
             title="{{ lang.t('search.share') }}"
             aria-label="{{ lang.t('search.share') }}"
             data-clipboard data-clipboard-text=""
             data-md-component="search-share"
             tabindex="-1">
            {% set icon = config.theme.icon.share or "material/share-variant" %}
            {% include ".icons/" ~ icon ~ ".svg" %}
          </a>
        {% endif %}

        <!-- Reset/clear button -->
        <button type="reset"
                class="md-search__icon md-icon"
                title="{{ lang.t('search.reset') }}"
                aria-label="{{ lang.t('search.reset') }}"
                tabindex="-1">
          {% set icon = config.theme.icon.close or "material/close" %}
          {% include ".icons/" ~ icon ~ ".svg" %}
        </button>
      </nav>

      <!-- Optional: Suggestion dropdown container -->
      {% if "search.suggest" in features %}
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      {% endif %}
    </form>

    <!-- Search results output -->
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">

          <!-- Meta text (e.g. "Initializing search...") -->
          <div class="md-search-result__meta">
            {{ lang.t("search.result.initializer") }}
          </div>

          <!-- Results list (populated dynamically) -->
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>

    <!-- Small inline hint (keyboard shortcut) -->
    <span class="md-search__placeholder">
      Ctrl + k
    </span>

    <!-- Custom script: focus input when pressing Ctrl + K -->
    <script>
      window.addEventListener('keydown', (e) => {
        if (e.key == 'k' && e.ctrlKey) {
          console.log('ctrl k');
          e.preventDefault();
          const inputField = document.getElementById('md-search-input');
          inputField.focus();
        }
      });
    </script>
  </div>
</div>
